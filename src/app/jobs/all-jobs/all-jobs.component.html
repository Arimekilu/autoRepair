<app-error [error]="IError" *ngIf="IError"></app-error>
<mat-spinner *ngIf="loading && !IError; else loaded" class="loader"></mat-spinner>

<ng-template #loaded>


  <div>
    <h4>Выберите категорию</h4>
    <mat-form-field>
      <mat-label>Категория работ</mat-label>
      <mat-select [formControl]="selectType">
        <mat-option (click)="filterJobsByType($event)" value="Все категории">Все категории</mat-option>
        <mat-option (click)="filterJobsByType($event)" value="Без категории">Без категории</mat-option>
        <mat-option *ngFor="let type of types$ | async" (click)="filterJobsByType($event)" [value]="type" >
          {{type}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <div *ngFor="let job of filteredJobs">
      <app-job [job]="job"></app-job>
    </div>
  </div>
</ng-template>
