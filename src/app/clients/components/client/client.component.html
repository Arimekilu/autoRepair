<div class="card container" *ngIf="client">
  <h3>{{client.name}}</h3>
  <h4>{{client.phone}}</h4>
  <p>{{client.comment}}</p>


  <button mat-raised-button (click)="showCars = !showCars">
    Автомобили: {{client.cars ? client.cars.length : '0'}}</button>
  <button mat-raised-button (click)="addCar = !addCar" *ngIf="!client.cars">Добавить автомобиль</button>
  <app-create-car [client]="client" *ngIf="addCar"></app-create-car>
  <div *ngIf="showCars && client.cars">
    <app-car *ngFor="let car of client.cars" [car]="car" [client]="client" [openInClient]="true"></app-car>
  </div>

  <button mat-raised-button (click)="showOrders = !showOrders" *ngIf="client.orders">
    Заказ-наряды: {{ client.orders.length}}</button>

  <div *ngIf="showOrders">
    <div class="flexCol">
      <div *ngFor="let order of client.orders" class="shadow">
        <app-order [order]="order"></app-order>
      </div>
    </div>
  </div>

  <button mat-raised-button (click)="createOrder = !createOrder">Добавить заказ-наряд</button>
  <app-create-order *ngIf="createOrder" [client]="client"
                    [car]="client.cars.length === 1 ? client.cars[0] : undefined"></app-create-order>
  <button mat-raised-button (click)="editClient = !editClient">Редактировать клиента</button>
  <app-create-client *ngIf="editClient" [client]="client"></app-create-client>
  <button mat-raised-button color="warn" (click)="delete(client)">Удалить клиента</button>
</div>


